<?php

namespace PHPExif\Tests\Adapter {

    function proc_open()
    {
        return false;
    }

    include __DIR__ . '/../../../lib/PHPExif/Adapter/Exiftool.php';

    /**
     * @covers \PHPExif\Adapter\Exiftool::<!public>
     */
    class ExiftoolProcOpenTest extends \PHPUnit_Framework_TestCase
    {
        /**
         * @var \PHPExif\Adapter\Exiftool
         */
        protected $adapter;

        public function setUp()
        {
            $this->adapter = new \PHPExif\Adapter\Exiftool();
        }
        /**
         * @group exiftool
         * @covers \PHPExif\Adapter\Exiftool::getCliOutput
         */
        public function testGetCliOutput()
        {
            $reflMethod = new \ReflectionMethod('\PHPExif\Adapter\Exiftool', 'getCliOutput');
            $reflMethod->setAccessible(true);

            $result = $reflMethod->invoke(
                $this->adapter,
                sprintf(
                    '%1$s',
                    'pwd'
                )
            );

            $this->assertInternalType('string', $result);
        }
    }
}
